@model IEnumerable<ECommerceApp.Models.Product>

@{
    ViewData["Title"] = "Catalog Produk";
}

<h2 class="fw-bold mb-4">Catalog Produk</h2>

<div class="row g-4">
    
    @foreach (var item in Model)
    {
        <div class="col-sm-6 col-md-4 col-lg-3">
            <div class="card h-100 shadow-sm border-0 product-card">

                <!-- GAMBAR -->
                <img src="~/images/products/@item.ImageUrl" class="card-img-top" style="height:180px; object-fit:cover;" />

                <div class="card-body d-flex flex-column">
                    <!-- NAMA -->
                    <h6 class="fw-semibold mb-1 text-truncate">
                        @item.Name
                    </h6>

                    <!-- DESKRIPSI -->
                    <p class="text-muted small mb-2">
                        @if (!string.IsNullOrEmpty(item.Description))
                        {
                            @(item.Description.Length > 70
                                                ? item.Description.Substring(0, 70) + "..."
                                                : item.Description)
                        }
                        else
                        {
                            <span class="fst-italic">Tidak ada deskripsi</span>
                        }
                    </p>

                    <!-- HARGA -->
                    <p class="text-success fw-bold mb-3">
                        @item.Price.ToString("C",
                        new System.Globalization.CultureInfo("id-ID"))
                </p>

                <!-- BUTTON -->
                <form asp-controller="Cart" asp-action="Add" method="post" class="mt-auto">
                    <input type="hidden" name="id" value="@item.Id" />
                    <button type="submit" class="btn btn-primary w-100">
                        🛒 Tambah ke Keranjang
                    </button>
                </form>
            </div>
        </div>
    </div>
        }
</div>